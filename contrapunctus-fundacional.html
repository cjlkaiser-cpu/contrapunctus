<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CONTRAPUNCTUS - Documento Fundacional v2</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #141414;
            --bg-tertiary: #1e1e1e;
            --bg-card: #252525;
            --text-primary: #f0f0f0;
            --text-secondary: #a0a0a0;
            --text-muted: #666;
            --accent-gold: #d4a574;
            --accent-blue: #6b9bd2;
            --accent-green: #7cb87c;
            --accent-red: #d27070;
            --accent-purple: #a07cd2;
            --border: #333;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            font-size: 16px;
        }

        header {
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
            padding: 6rem 2rem 4rem;
            text-align: center;
            border-bottom: 1px solid var(--border);
        }

        .logo {
            font-family: 'Crimson Text', serif;
            font-size: 4rem;
            font-weight: 400;
            letter-spacing: 0.3em;
            color: var(--accent-gold);
            margin-bottom: 1rem;
        }

        .tagline {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-weight: 300;
            font-style: italic;
        }

        .version {
            margin-top: 2rem;
            padding: 0.5rem 1.5rem;
            background: var(--bg-tertiary);
            border-radius: 20px;
            display: inline-block;
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .badge {
            background: var(--accent-gold);
            color: var(--bg-primary);
            padding: 0.3rem 0.8rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 0.5rem;
            vertical-align: middle;
        }

        nav {
            position: sticky;
            top: 0;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s;
        }

        nav a:hover { color: var(--accent-gold); }

        main {
            max-width: 1100px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        section { margin-bottom: 5rem; }

        h2 {
            font-family: 'Crimson Text', serif;
            font-size: 2.2rem;
            font-weight: 400;
            color: var(--accent-gold);
            margin-bottom: 2rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }

        h3 {
            font-size: 1.3rem;
            font-weight: 500;
            color: var(--text-primary);
            margin: 2rem 0 1rem;
        }

        h4 {
            font-size: 1.1rem;
            font-weight: 500;
            color: var(--accent-blue);
            margin: 1.5rem 0 0.75rem;
        }

        p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .vision-box {
            background: linear-gradient(135deg, rgba(212, 165, 116, 0.1), rgba(107, 155, 210, 0.1));
            border: 1px solid var(--accent-gold);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .vision-box p {
            font-size: 1.2rem;
            color: var(--text-primary);
            font-style: italic;
            text-align: center;
            margin: 0;
        }

        .quote-source {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid var(--border);
            transition: transform 0.2s, border-color 0.2s;
        }

        .card:hover {
            transform: translateY(-4px);
            border-color: var(--accent-gold);
        }

        .card-icon { font-size: 2rem; margin-bottom: 1rem; }
        .card h4 { color: var(--text-primary); margin: 0 0 0.75rem; }
        .card p { font-size: 0.95rem; margin: 0; }

        pre {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 1.5rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            border: 1px solid var(--border);
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            color: var(--accent-blue);
        }

        pre code { color: var(--text-secondary); }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }

        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg-tertiary);
            color: var(--accent-gold);
            font-weight: 500;
        }

        td { color: var(--text-secondary); }
        tr:hover td { background: var(--bg-secondary); }

        ul, ol {
            margin: 1rem 0 1rem 2rem;
            color: var(--text-secondary);
        }

        li { margin-bottom: 0.5rem; }

        .diagram {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            line-height: 1.4;
            overflow-x: auto;
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .diagram .hl { color: var(--accent-gold); }
        .diagram .accent { color: var(--accent-blue); }
        .diagram .green { color: var(--accent-green); }
        .diagram .red { color: var(--accent-red); }

        .species-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 1rem;
            margin: 2rem 0;
        }

        @media (max-width: 900px) {
            .species-grid { grid-template-columns: repeat(3, 1fr); }
        }

        @media (max-width: 600px) {
            .species-grid { grid-template-columns: repeat(2, 1fr); }
        }

        .species-card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
            border: 2px solid var(--border);
            transition: all 0.2s;
        }

        .species-card:hover {
            border-color: var(--accent-gold);
            transform: scale(1.02);
        }

        .species-number {
            font-family: 'Crimson Text', serif;
            font-size: 2.5rem;
            color: var(--accent-gold);
            line-height: 1;
        }

        .species-name {
            font-size: 0.9rem;
            color: var(--text-primary);
            margin: 0.5rem 0;
        }

        .species-rhythm {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .level-track {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin: 1rem 0;
            flex-wrap: wrap;
        }

        .level-node {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .level-node.completed {
            background: var(--accent-green);
            color: var(--bg-primary);
        }

        .level-node.current {
            background: var(--accent-gold);
            color: var(--bg-primary);
            box-shadow: 0 0 20px rgba(212, 165, 116, 0.5);
        }

        .level-node.locked {
            background: var(--bg-tertiary);
            color: var(--text-muted);
        }

        .level-connector {
            width: 20px;
            height: 2px;
            background: var(--border);
        }

        .rule-box {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
            border-left: 4px solid var(--accent-blue);
        }

        .rule-box.warning { border-left-color: var(--accent-red); }
        .rule-box.tip { border-left-color: var(--accent-green); }

        .rule-box strong {
            color: var(--text-primary);
        }

        .phase {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--accent-gold);
        }

        .phase-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .phase-number {
            background: var(--accent-gold);
            color: var(--bg-primary);
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .phase h4 { margin: 0; color: var(--text-primary); }

        .tag {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.8rem;
            margin: 0.25rem;
        }

        .tag.core { background: rgba(212, 165, 116, 0.2); color: var(--accent-gold); }
        .tag.v2 { background: rgba(107, 155, 210, 0.2); color: var(--accent-blue); }
        .tag.v3 { background: rgba(160, 124, 210, 0.2); color: var(--accent-purple); }

        .historical-note {
            background: linear-gradient(135deg, rgba(160, 124, 210, 0.1), rgba(107, 155, 210, 0.1));
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            border: 1px solid var(--accent-purple);
        }

        .historical-note h4 {
            color: var(--accent-purple);
            margin-top: 0;
        }

        footer {
            text-align: center;
            padding: 3rem 2rem;
            border-top: 1px solid var(--border);
            color: var(--text-muted);
        }

        footer a { color: var(--accent-gold); text-decoration: none; }

        .comparison-table {
            margin: 2rem 0;
        }

        .comparison-table td:first-child {
            font-weight: 500;
            color: var(--text-primary);
        }

        .checkmark { color: var(--accent-green); }
        .crossmark { color: var(--accent-red); }
    </style>
</head>
<body>
    <header>
        <div class="logo">CONTRAPUNCTUS</div>
        <p class="tagline">Species Counterpoint Trainer â€” MÃ©todo Schoenberg/Fux</p>
        <div class="version">Documento Fundacional v2.0 <span class="badge">NUEVO ENFOQUE</span></div>
    </header>

    <nav>
        <ul>
            <li><a href="#vision">VisiÃ³n</a></li>
            <li><a href="#metodo">MÃ©todo</a></li>
            <li><a href="#especies">5 Especies</a></li>
            <li><a href="#reglas">Reglas</a></li>
            <li><a href="#interfaz">Interfaz</a></li>
            <li><a href="#niveles">Niveles</a></li>
            <li><a href="#arquitectura">Arquitectura</a></li>
            <li><a href="#fases">Fases</a></li>
        </ul>
    </nav>

    <main>
        <!-- VISIÃ“N -->
        <section id="vision">
            <h2>I. VisiÃ³n</h2>

            <div class="vision-box">
                <p>"Aprender contrapunto como aprendieron Bach, Mozart y Beethoven â€” pero con feedback instantÃ¡neo"</p>
            </div>

            <p>Contrapunctus es la <strong>primera implementaciÃ³n digital completa</strong> del mÃ©todo de especies de contrapunto, basado en:</p>

            <ul>
                <li><strong>Johann Joseph Fux</strong> â€” <em>Gradus ad Parnassum</em> (1725)</li>
                <li><strong>Arnold Schoenberg</strong> â€” <em>Ejercicios Preliminares de Contrapunto</em> (1963)</li>
            </ul>

            <div class="historical-note">
                <h4>ğŸ“œ Contexto HistÃ³rico</h4>
                <p>El mÃ©todo de especies fue THE sistema de enseÃ±anza de composiciÃ³n en Europa durante 300 aÃ±os. Bach lo aprendiÃ³ de su hermano, Mozart de su padre, Beethoven de Haydn. Schoenberg lo codificÃ³ con rigor germÃ¡nico en el siglo XX.</p>
                <p>Hasta ahora, solo existÃ­a en papel. <strong>Contrapunctus lo hace interactivo.</strong></p>
            </div>

            <h3>Principios</h3>

            <div class="cards-grid">
                <div class="card">
                    <div class="card-icon">ğŸ“–</div>
                    <h4>Fidelidad al MÃ©todo</h4>
                    <p>Implementamos EXACTAMENTE las reglas de Schoenberg. No inventamos â€” codificamos tradiciÃ³n.</p>
                </div>
                <div class="card">
                    <div class="card-icon">âš¡</div>
                    <h4>Feedback InstantÃ¡neo</h4>
                    <p>Cada nota que escribes se analiza en tiempo real. Sabes inmediatamente si es correcta.</p>
                </div>
                <div class="card">
                    <div class="card-icon">ğŸ¯</div>
                    <h4>ProgresiÃ³n Natural</h4>
                    <p>De lo simple a lo complejo: 2â†’3â†’4 voces, 1Âªâ†’5Âª especie. Desbloqueando niveles.</p>
                </div>
                <div class="card">
                    <div class="card-icon">ğŸµ</div>
                    <h4>Escuchar + Escribir</h4>
                    <p>No solo teorÃ­a â€” produces mÃºsica real que suena y puedes exportar.</p>
                </div>
            </div>
        </section>

        <!-- MÃ‰TODO -->
        <section id="metodo">
            <h2>II. El MÃ©todo de Especies</h2>

            <p>El contrapunto de especies es un sistema <strong>progresivo</strong> de aprendizaje. Empiezas con lo mÃ¡s simple (nota contra nota) y gradualmente introduces complejidad rÃ­tmica y melÃ³dica.</p>

            <h3>Estructura del MÃ©todo Schoenberg</h3>

            <div class="diagram">
<span class="hl">PRIMERA PARTE: Contrapunto a 2 voces</span>
â”œâ”€â”€ 1. Primera Especie (redondas)
â”‚   â”œâ”€â”€ Intervalos, consonancias, disonancias
â”‚   â”œâ”€â”€ ConducciÃ³n melÃ³dica
â”‚   â””â”€â”€ Independencia de voces
â”œâ”€â”€ 2. Segunda Especie (blancas)
â”‚   â”œâ”€â”€ Nota de paso
â”‚   â””â”€â”€ Tiempo fuerte vs dÃ©bil
â”œâ”€â”€ 3. Tercera Especie (negras)
â”‚   â”œâ”€â”€ Cambiata
â”‚   â””â”€â”€ Bordadura
â”œâ”€â”€ 4. Cuarta Especie (sÃ­ncopa)
â”‚   â””â”€â”€ <span class="accent">SUSPENSIÃ“N</span> (preparaciÃ³n â†’ disonancia â†’ resoluciÃ³n)
â”œâ”€â”€ 5. Quinta Especie (floridus)
â”‚   â””â”€â”€ Mezcla libre de valores
â”œâ”€â”€ 6. Modo Menor
â””â”€â”€ 7-8. Aplicaciones: Cadencias, ModulaciÃ³n

<span class="hl">SEGUNDA PARTE: Contrapunto a 3 voces</span>
â”œâ”€â”€ Especies 1-5 con voz adicional
â”œâ”€â”€ Paralelas ocultas
â”œâ”€â”€ Suspensiones a 3 voces
â””â”€â”€ 9-10. Aplicaciones: ImitaciÃ³n, Canon

<span class="hl">TERCERA PARTE: Contrapunto a 4 voces</span>
â”œâ”€â”€ Especies 1-5 (escritura coral)
â”œâ”€â”€ AdiciÃ³n de voces
â””â”€â”€ Imitaciones a 4 voces
            </div>

            <h3>El Cantus Firmus</h3>

            <p>Todo ejercicio parte de un <strong>cantus firmus</strong> (CF) â€” una melodÃ­a dada en redondas. El estudiante aÃ±ade una o mÃ¡s voces segÃºn las reglas de la especie.</p>

            <div class="diagram">
CF (dado):    â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹â”€â”€â”€â—‹
              D   E   F   E   D   C   D   E   F   E   D

Tu voz:       <span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>â”€â”€â”€<span class="green">â—</span>
              A   G   A   G   F   E   F   G   A   G   A
              5   3   3   3   3   3   3   3   3   3   5
            </div>
        </section>

        <!-- 5 ESPECIES -->
        <section id="especies">
            <h2>III. Las Cinco Especies</h2>

            <div class="species-grid">
                <div class="species-card">
                    <div class="species-number">I</div>
                    <div class="species-name">Primera Especie</div>
                    <div class="species-rhythm">â—‹ contra â—‹</div>
                    <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem;">Nota contra nota. Solo consonancias.</p>
                </div>
                <div class="species-card">
                    <div class="species-number">II</div>
                    <div class="species-name">Segunda Especie</div>
                    <div class="species-rhythm">ğ…—ğ…¥ contra â—‹</div>
                    <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem;">Dos notas contra una. Nota de paso.</p>
                </div>
                <div class="species-card">
                    <div class="species-number">III</div>
                    <div class="species-name">Tercera Especie</div>
                    <div class="species-rhythm">â™© contra â—‹</div>
                    <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem;">Cuatro notas contra una. Cambiata.</p>
                </div>
                <div class="species-card">
                    <div class="species-number">IV</div>
                    <div class="species-name">Cuarta Especie</div>
                    <div class="species-rhythm">ğ…—ğ…¥â€¿ğ…—ğ…¥ sÃ­ncopa</div>
                    <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem;">Suspensiones. Disonancia preparada.</p>
                </div>
                <div class="species-card">
                    <div class="species-number">V</div>
                    <div class="species-name">Quinta Especie</div>
                    <div class="species-rhythm">Floridus</div>
                    <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem;">Mezcla libre. Contrapunto florido.</p>
                </div>
            </div>

            <h3>Detalle por Especie</h3>

            <h4>Primera Especie â€” Nota contra nota</h4>
            <div class="rule-box">
                <strong>Regla fundamental:</strong> Solo consonancias (1, 3, 5, 6, 8). La 4Âª se trata como disonancia a 2 voces.
            </div>
            <ul>
                <li>Comenzar y terminar en consonancia perfecta (1, 5, 8)</li>
                <li>Preferir movimiento contrario</li>
                <li>Evitar paralelismo de 5as y 8as</li>
                <li>Evitar saltos mayores a 6Âª (excepciÃ³n: 8Âª ascendente)</li>
            </ul>

            <h4>Segunda Especie â€” Dos contra una</h4>
            <div class="rule-box">
                <strong>Novedad:</strong> Tiempo fuerte (consonancia) + Tiempo dÃ©bil (puede ser disonancia de paso)
            </div>
            <ul>
                <li>Primera nota del compÃ¡s: consonancia obligatoria</li>
                <li>Segunda nota: consonancia O nota de paso por grado conjunto</li>
                <li>No repetir la misma nota</li>
            </ul>

            <h4>Tercera Especie â€” Cuatro contra una</h4>
            <div class="rule-box">
                <strong>Novedad:</strong> Cambiata â€” patrÃ³n melÃ³dico que permite salto desde disonancia
            </div>
            <ul>
                <li>1Âª y 3Âª nota del compÃ¡s: preferir consonancias</li>
                <li>2Âª y 4Âª nota: pueden ser disonancias de paso</li>
                <li>Cambiata: cons. â†’ dis.(grado) â†’ salto 3Âª â†’ grado â†’ cons.</li>
                <li>Bordadura: cons. â†’ dis.(grado) â†’ cons. (misma nota)</li>
            </ul>

            <h4>Cuarta Especie â€” SÃ­ncopa y SuspensiÃ³n</h4>
            <div class="rule-box tip">
                <strong>La suspensiÃ³n es la reina del contrapunto.</strong> Tres fases: PreparaciÃ³n (cons. tiempo dÃ©bil) â†’ SuspensiÃ³n (dis. tiempo fuerte) â†’ ResoluciÃ³n (cons. grado descendente)
            </div>

            <div class="diagram">
              preparaciÃ³n    suspensiÃ³n    resoluciÃ³n
                   â†“            â†“             â†“
         â”€â”€â”€â”€â”€â”€â”€â”€â”€<span class="green">â—</span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<span class="red">â—</span>â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€<span class="green">â—</span>â”€â”€â”€â”€â”€â”€â”€â”€â”€
                 cons.        <span class="red">DIS.</span>         cons.
                   â†“            â†“             â†“
               t.dÃ©bil      t.FUERTE      t.dÃ©bil
            </div>

            <div class="rule-box warning">
                <strong>Â§42 Schoenberg:</strong> La sÃ©ptima NO puede usarse como suspensiÃ³n en voz inferior (resolverÃ­a en octava paralela).
            </div>

            <h4>Quinta Especie â€” Floridus</h4>
            <div class="rule-box">
                <strong>Mezcla libre:</strong> Combinar redondas, blancas, negras, sÃ­ncopas. El contrapunto "florido" de la mÃºsica real.
            </div>
            <ul>
                <li>Usar variedad rÃ­tmica con propÃ³sito</li>
                <li>Mantener todas las reglas anteriores</li>
                <li>ResoluciÃ³n interrumpida permitida</li>
            </ul>
        </section>

        <!-- REGLAS -->
        <section id="reglas">
            <h2>IV. Reglas Codificadas (Schoenberg)</h2>

            <p>Todas las reglas extraÃ­das del libro, organizadas para implementaciÃ³n:</p>

            <h3>Intervalos</h3>

            <table>
                <thead>
                    <tr>
                        <th>Intervalo</th>
                        <th>Tipo</th>
                        <th>CÃ³digo</th>
                        <th>Notas</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1 (unÃ­sono)</td>
                        <td>Consonancia perfecta</td>
                        <td><code>PERF</code></td>
                        <td>Solo al inicio/final</td>
                    </tr>
                    <tr>
                        <td>3 (tercera)</td>
                        <td>Consonancia imperfecta</td>
                        <td><code>IMP</code></td>
                        <td>Mayor o menor</td>
                    </tr>
                    <tr>
                        <td>5 (quinta)</td>
                        <td>Consonancia perfecta</td>
                        <td><code>PERF</code></td>
                        <td>Debe ser justa</td>
                    </tr>
                    <tr>
                        <td>6 (sexta)</td>
                        <td>Consonancia imperfecta</td>
                        <td><code>IMP</code></td>
                        <td>Mayor o menor</td>
                    </tr>
                    <tr>
                        <td>8 (octava)</td>
                        <td>Consonancia perfecta</td>
                        <td><code>PERF</code></td>
                        <td>Evitar en medio</td>
                    </tr>
                    <tr>
                        <td>2 (segunda)</td>
                        <td>Disonancia</td>
                        <td><code>DIS</code></td>
                        <td>Solo de paso/suspensiÃ³n</td>
                    </tr>
                    <tr>
                        <td>4 (cuarta)</td>
                        <td>Disonancia*</td>
                        <td><code>DIS</code></td>
                        <td>*A 2 voces; consonancia a 3+</td>
                    </tr>
                    <tr>
                        <td>7 (sÃ©ptima)</td>
                        <td>Disonancia</td>
                        <td><code>DIS</code></td>
                        <td>Solo suspensiÃ³n (voz sup.)</td>
                    </tr>
                    <tr>
                        <td>+4 / -5</td>
                        <td>Disonancia</td>
                        <td><code>DIS</code></td>
                        <td>Tritono â€” evitar</td>
                    </tr>
                </tbody>
            </table>

            <h3>Movimientos</h3>

            <table>
                <thead>
                    <tr>
                        <th>Movimiento</th>
                        <th>DefiniciÃ³n</th>
                        <th>Preferencia</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Contrario</td>
                        <td>Voces en direcciones opuestas</td>
                        <td class="checkmark">â˜…â˜…â˜… Preferido</td>
                    </tr>
                    <tr>
                        <td>Oblicuo</td>
                        <td>Una voz quieta, otra se mueve</td>
                        <td class="checkmark">â˜…â˜… Bueno</td>
                    </tr>
                    <tr>
                        <td>Paralelo</td>
                        <td>Misma direcciÃ³n, mismo intervalo</td>
                        <td class="crossmark">â˜… Cuidado (3as/6as OK)</td>
                    </tr>
                    <tr>
                        <td>Directo</td>
                        <td>Misma direcciÃ³n, diferente intervalo</td>
                        <td>Depende del contexto</td>
                    </tr>
                </tbody>
            </table>

            <h3>Prohibiciones</h3>

            <div class="rule-box warning">
                <strong>Â§ Paralelas de 5as y 8as:</strong> Dos quintas (u octavas) consecutivas en la misma direcciÃ³n. PROHIBIDO.
            </div>

            <div class="rule-box warning">
                <strong>Â§ Quintas/Octavas directas:</strong> Llegar a 5Âª u 8Âª por movimiento directo con salto en voz superior. EVITAR.
            </div>

            <div class="rule-box warning">
                <strong>Â§ Cruce de voces:</strong> La voz inferior cruza por encima de la superior (o viceversa). PROHIBIDO.
            </div>

            <div class="rule-box warning">
                <strong>Â§ Tritono melÃ³dico:</strong> Salto de +4 o -5 en una voz. PROHIBIDO (compensar si es necesario).
            </div>
        </section>

        <!-- INTERFAZ -->
        <section id="interfaz">
            <h2>V. Interfaz de Usuario</h2>

            <h3>Pantalla Principal: Species Trainer</h3>

            <div class="diagram">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hl">CONTRAPUNCTUS</span>              2 Voces â”‚ 1Âª Especie â”‚ Do Mayor    [â‰¡] [?] [â™ª]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€ CANTUS FIRMUS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚    â—‹     â—‹     â—‹     â—‹     â—‹     â—‹     â—‹     â—‹     â—‹     â—‹     â—‹        â”‚  â”‚
â”‚  â”‚    D     E     F     E     D     C     D     E     F     E     D        â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€ TU CONTRAPUNTO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚    <span class="green">â—</span>     <span class="green">â—</span>     <span class="green">â—</span>     <span class="green">â—</span>     <span class="accent">â—</span>     Â·     Â·     Â·     Â·     Â·     Â·        â”‚  â”‚
â”‚  â”‚    A     G     A     G     <span class="accent">_</span>                                             â”‚  â”‚
â”‚  â”‚    5     3     3     3                                                   â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚  Click en una nota para colocarla Â· Teclado: A-G Â· Flechas: octava     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€ TECLADO VIRTUAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â” â”Œâ”€â”€â”    â”Œâ”€â”€â” â”Œâ”€â”€â” â”Œâ”€â”€â”    â”Œâ”€â”€â” â”Œâ”€â”€â”                              â”‚  â”‚
â”‚  â”‚   â”‚â–“â–“â”‚ â”‚â–“â–“â”‚    â”‚â–“â–“â”‚ â”‚â–“â–“â”‚ â”‚â–“â–“â”‚    â”‚â–“â–“â”‚ â”‚â–“â–“â”‚                              â”‚  â”‚
â”‚  â”‚  â”Œâ”´â”¬â”€â”´â”¬â”´â”¬â”€â”´â”  â”Œâ”´â”¬â”€â”´â”¬â”´â”¬â”€â”´â”¬â”´â”¬â”€â”´â”  â”Œâ”´â”¬â”€â”´â”¬â”´â”¬â”€â”´â”                             â”‚  â”‚
â”‚  â”‚  â”‚Câ”‚Dâ”‚Eâ”‚Fâ”‚Gâ”‚Aâ”‚Bâ”‚Câ”‚Dâ”‚Eâ”‚Fâ”‚Gâ”‚Aâ”‚Bâ”‚Câ”‚Dâ”‚Eâ”‚                                    â”‚  â”‚
â”‚  â”‚  â”‚ â”‚ â”‚ â”‚<span class="green">â˜…</span>â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚<span class="accent">â—†</span>â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚   <span class="green">â˜…</span>=recomendado <span class="accent">â—†</span>=posible       â”‚  â”‚
â”‚  â”‚  â””â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”˜                                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€ FEEDBACK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚  <span class="green">âœ“</span> Intervalo D-A: Quinta justa (consonancia perfecta)                   â”‚  â”‚
â”‚  â”‚  <span class="green">âœ“</span> Movimiento: Contrario (excelente)                                     â”‚  â”‚
â”‚  â”‚  <span class="green">âœ“</span> Sin paralelas problemÃ¡ticas                                           â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â”‚  <span class="hl">Sugerencias para siguiente nota:</span>                                       â”‚  â”‚
â”‚  â”‚  â€¢ <span class="green">F (3Âª)</span> â€” movimiento contrario, consonancia imperfecta â˜…â˜…â˜…             â”‚  â”‚
â”‚  â”‚  â€¢ <span class="accent">A (5Âª)</span> â€” movimiento oblicuo, consonancia perfecta â˜…â˜…                  â”‚  â”‚
â”‚  â”‚  â€¢ <span class="red">C (8Âª)</span> â€” crearÃ­a octavas directas, evitar âœ—                           â”‚  â”‚
â”‚  â”‚                                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [â–¶ Escuchar]  [âŸ² Deshacer]  [â†º Reiniciar]  [âœ“ Verificar]  [â†’ Siguiente] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>

            <h3>Panel de Progreso</h3>

            <div class="diagram">
â”Œâ”€â”€â”€ PROGRESO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                                 â”‚
â”‚  <span class="hl">2 VOCES</span>                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚ <span class="green">I</span>   â”‚â†’â”‚ <span class="green">II</span>  â”‚â†’â”‚ <span class="accent">III</span> â”‚â†’â”‚ IV  â”‚â†’â”‚ V   â”‚  Mayor                            â”‚
â”‚  â”‚ <span class="green">âœ“âœ“âœ“</span> â”‚ â”‚ <span class="green">âœ“âœ“âœ“</span> â”‚ â”‚ <span class="accent">â—â—â—‹</span> â”‚ â”‚ â—‹â—‹â—‹ â”‚ â”‚ â—‹â—‹â—‹ â”‚  â”€â”€â”€â”€â”€â”€                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜  Menor: ğŸ”’                            â”‚
â”‚                                                                                 â”‚
â”‚  <span class="hl">3 VOCES</span> ğŸ”’                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚  I  â”‚â†’â”‚ II  â”‚â†’â”‚ III â”‚â†’â”‚ IV  â”‚â†’â”‚  V  â”‚  Desbloquea al completar             â”‚
â”‚  â”‚ ğŸ”’  â”‚ â”‚ ğŸ”’  â”‚ â”‚ ğŸ”’  â”‚ â”‚ ğŸ”’  â”‚ â”‚ ğŸ”’  â”‚  2 voces 5Âª especie                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                                                 â”‚
â”‚  <span class="hl">4 VOCES</span> ğŸ”’                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚  I  â”‚â†’â”‚ II  â”‚â†’â”‚ III â”‚â†’â”‚ IV  â”‚â†’â”‚  V  â”‚  Desbloquea al completar             â”‚
â”‚  â”‚ ğŸ”’  â”‚ â”‚ ğŸ”’  â”‚ â”‚ ğŸ”’  â”‚ â”‚ ğŸ”’  â”‚ â”‚ ğŸ”’  â”‚  3 voces 5Âª especie                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                                                 â”‚
â”‚  <span class="hl">APLICACIONES</span> ğŸ”’                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  Cadencias  â”‚ â”‚ ModulaciÃ³n  â”‚ â”‚  ImitaciÃ³n  â”‚ â”‚   Canon     â”‚               â”‚
â”‚  â”‚     ğŸ”’      â”‚ â”‚     ğŸ”’      â”‚ â”‚     ğŸ”’      â”‚ â”‚     ğŸ”’      â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            </div>
        </section>

        <!-- NIVELES -->
        <section id="niveles">
            <h2>VI. Sistema de Niveles</h2>

            <p>Cada combinaciÃ³n voces Ã— especie Ã— modo es un "nivel" con 3 ejercicios (cantus firmi diferentes).</p>

            <table>
                <thead>
                    <tr>
                        <th>Nivel</th>
                        <th>Voces</th>
                        <th>Especie</th>
                        <th>Modo</th>
                        <th>Ejercicios</th>
                        <th>Desbloqueo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>2</td>
                        <td>1Âª</td>
                        <td>Mayor</td>
                        <td>3 CF</td>
                        <td>â€”</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>2</td>
                        <td>2Âª</td>
                        <td>Mayor</td>
                        <td>3 CF</td>
                        <td>Nivel 1</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>2</td>
                        <td>3Âª</td>
                        <td>Mayor</td>
                        <td>3 CF</td>
                        <td>Nivel 2</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>2</td>
                        <td>4Âª</td>
                        <td>Mayor</td>
                        <td>3 CF</td>
                        <td>Nivel 3</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>2</td>
                        <td>5Âª</td>
                        <td>Mayor</td>
                        <td>3 CF</td>
                        <td>Nivel 4</td>
                    </tr>
                    <tr>
                        <td>6-10</td>
                        <td>2</td>
                        <td>1Âª-5Âª</td>
                        <td>Menor</td>
                        <td>3 CF c/u</td>
                        <td>Nivel 5</td>
                    </tr>
                    <tr>
                        <td>11-20</td>
                        <td>3</td>
                        <td>1Âª-5Âª</td>
                        <td>Mayor/Menor</td>
                        <td>3 CF c/u</td>
                        <td>Nivel 10</td>
                    </tr>
                    <tr>
                        <td>21-30</td>
                        <td>4</td>
                        <td>1Âª-5Âª</td>
                        <td>Mayor/Menor</td>
                        <td>3 CF c/u</td>
                        <td>Nivel 20</td>
                    </tr>
                    <tr>
                        <td>31+</td>
                        <td>2-4</td>
                        <td>Aplicaciones</td>
                        <td>â€”</td>
                        <td>Libre</td>
                        <td>Nivel 30</td>
                    </tr>
                </tbody>
            </table>

            <h3>Cantus Firmi HistÃ³ricos</h3>

            <p>Usamos los CF del libro de Schoenberg + fuentes histÃ³ricas:</p>

            <ul>
                <li><strong>Schoenberg:</strong> ~40 CF en el libro (extraer todos)</li>
                <li><strong>Fux:</strong> Los CF originales de Gradus ad Parnassum</li>
                <li><strong>Jeppesen:</strong> CF de "Counterpoint" (1939)</li>
                <li><strong>Generados:</strong> Algoritmo que genera CF vÃ¡lidos siguiendo las reglas</li>
            </ul>
        </section>

        <!-- ARQUITECTURA -->
        <section id="arquitectura">
            <h2>VII. Arquitectura TÃ©cnica</h2>

            <h3>Estructura de Archivos</h3>

            <pre><code>contrapunctus/
â”œâ”€â”€ index.html                    # App principal
â”‚
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ pitch.js             # Pitch class, intervalos
â”‚   â”‚   â”œâ”€â”€ interval.js          # CÃ¡lculo y clasificaciÃ³n de intervalos
â”‚   â”‚   â”œâ”€â”€ motion.js            # Tipos de movimiento (contrario, paralelo...)
â”‚   â”‚   â””â”€â”€ voice.js             # RepresentaciÃ³n de una voz
â”‚   â”‚
â”‚   â”œâ”€â”€ rules/
â”‚   â”‚   â”œâ”€â”€ species1.js          # Reglas 1Âª especie
â”‚   â”‚   â”œâ”€â”€ species2.js          # Reglas 2Âª especie
â”‚   â”‚   â”œâ”€â”€ species3.js          # Reglas 3Âª especie
â”‚   â”‚   â”œâ”€â”€ species4.js          # Reglas 4Âª especie (suspensiones)
â”‚   â”‚   â”œâ”€â”€ species5.js          # Reglas 5Âª especie
â”‚   â”‚   â”œâ”€â”€ common.js            # Reglas comunes (paralelas, cruces...)
â”‚   â”‚   â””â”€â”€ validator.js         # Valida ejercicio completo
â”‚   â”‚
â”‚   â”œâ”€â”€ analysis/
â”‚   â”‚   â”œâ”€â”€ analyzer.js          # Analiza nota por nota
â”‚   â”‚   â”œâ”€â”€ suggestions.js       # Genera sugerencias
â”‚   â”‚   â””â”€â”€ feedback.js          # Mensajes de feedback
â”‚   â”‚
â”‚   â”œâ”€â”€ cantus/
â”‚   â”‚   â”œâ”€â”€ schoenberg.json      # CF del libro
â”‚   â”‚   â”œâ”€â”€ fux.json             # CF histÃ³ricos
â”‚   â”‚   â”œâ”€â”€ generator.js         # Genera CF algorÃ­tmicamente
â”‚   â”‚   â””â”€â”€ loader.js            # Carga y gestiona CF
â”‚   â”‚
â”‚   â”œâ”€â”€ audio/
â”‚   â”‚   â””â”€â”€ synth.js             # Playback (heredado)
â”‚   â”‚
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ staff.js             # Renderizado del pentagrama
â”‚   â”‚   â”œâ”€â”€ keyboard.js          # Teclado virtual
â”‚   â”‚   â”œâ”€â”€ progress.js          # Panel de progreso
â”‚   â”‚   â””â”€â”€ feedback-panel.js    # Panel de feedback
â”‚   â”‚
â”‚   â””â”€â”€ app.js                   # Controlador principal
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ cantus-firmi.json        # Todos los CF
â”‚   â””â”€â”€ user-progress.json       # Progreso del usuario (localStorage)
â”‚
â””â”€â”€ README.md</code></pre>

            <h3>Modelo de Datos: Ejercicio</h3>

            <pre><code>const exercise = {
    id: "2v-1sp-maj-01",
    voices: 2,
    species: 1,
    mode: "major",
    key: "D",

    cantusFirmus: {
        position: "lower",  // CF en voz inferior
        notes: ["D4", "E4", "F4", "E4", "D4", "C4", "D4", "E4", "F4", "E4", "D4"]
    },

    counterpoint: {
        position: "upper",
        notes: []  // El usuario rellena
    },

    analysis: {
        intervals: [],      // Calculado en tiempo real
        motions: [],        // Calculado en tiempo real
        errors: [],         // Violaciones de reglas
        suggestions: []     // Para la siguiente nota
    }
};</code></pre>

            <h3>Algoritmo: ValidaciÃ³n de Nota</h3>

            <pre><code>function validateNote(exercise, newNote, position) {
    const errors = [];
    const warnings = [];

    const cfNote = exercise.cantusFirmus.notes[position];
    const interval = calculateInterval(cfNote, newNote);

    // 1. Verificar consonancia/disonancia segÃºn especie
    if (exercise.species === 1) {
        if (!isConsonance(interval)) {
            errors.push({
                type: 'DISSONANCE_IN_FIRST_SPECIES',
                message: `${interval.name} es disonancia. Primera especie solo permite consonancias.`
            });
        }
    }

    // 2. Verificar paralelas con nota anterior
    if (position > 0) {
        const prevCfNote = exercise.cantusFirmus.notes[position - 1];
        const prevCpNote = exercise.counterpoint.notes[position - 1];
        const prevInterval = calculateInterval(prevCfNote, prevCpNote);

        if (isParallelFifthOrOctave(prevInterval, interval, prevCpNote, newNote)) {
            errors.push({
                type: 'PARALLEL_FIFTHS_OR_OCTAVES',
                message: `Paralelas de ${interval.name} prohibidas.`
            });
        }
    }

    // 3. Verificar movimiento
    const motion = getMotionType(prevCfNote, cfNote, prevCpNote, newNote);
    if (motion === 'direct' && isPerfectConsonance(interval)) {
        warnings.push({
            type: 'DIRECT_TO_PERFECT',
            message: `Movimiento directo a ${interval.name}. Preferir movimiento contrario.`
        });
    }

    // 4. Verificar rango y cruce de voces
    if (exercise.counterpoint.position === 'upper' && newNote < cfNote) {
        errors.push({
            type: 'VOICE_CROSSING',
            message: 'La voz superior no puede cruzar por debajo del CF.'
        });
    }

    return { errors, warnings, valid: errors.length === 0 };
}</code></pre>
        </section>

        <!-- FASES -->
        <section id="fases">
            <h2>VIII. Fases de Desarrollo</h2>

            <div class="phase">
                <div class="phase-header">
                    <div class="phase-number">1</div>
                    <h4>MVP â€” 2 Voces, 1Âª Especie</h4>
                </div>
                <ul>
                    <li>Interfaz bÃ¡sica: pentagrama + teclado + feedback</li>
                    <li>Reglas de 1Âª especie completas</li>
                    <li>3 cantus firmi de Schoenberg</li>
                    <li>ValidaciÃ³n nota por nota</li>
                    <li>Sugerencias bÃ¡sicas</li>
                    <li>Playback</li>
                </ul>
                <span class="tag core">Core</span>
            </div>

            <div class="phase">
                <div class="phase-header">
                    <div class="phase-number">2</div>
                    <h4>2Âª y 3Âª Especie</h4>
                </div>
                <ul>
                    <li>Reglas de nota de paso</li>
                    <li>Reglas de cambiata y bordadura</li>
                    <li>Tiempo fuerte vs dÃ©bil</li>
                    <li>MÃ¡s cantus firmi</li>
                </ul>
                <span class="tag core">Core</span>
            </div>

            <div class="phase">
                <div class="phase-header">
                    <div class="phase-number">3</div>
                    <h4>4Âª Especie â€” Suspensiones</h4>
                </div>
                <ul>
                    <li>LÃ³gica de preparaciÃ³n-suspensiÃ³n-resoluciÃ³n</li>
                    <li>ValidaciÃ³n de sÃ­ncopa correcta</li>
                    <li>Â§42: sÃ©ptima solo en voz superior</li>
                </ul>
                <span class="tag core">Core</span>
            </div>

            <div class="phase">
                <div class="phase-header">
                    <div class="phase-number">4</div>
                    <h4>5Âª Especie + Modo Menor</h4>
                </div>
                <ul>
                    <li>Mezcla libre de valores rÃ­tmicos</li>
                    <li>ResoluciÃ³n interrumpida</li>
                    <li>AdaptaciÃ³n de reglas a modo menor</li>
                    <li>Sensible en menor armÃ³nico</li>
                </ul>
                <span class="tag core">Core</span>
            </div>

            <div class="phase">
                <div class="phase-header">
                    <div class="phase-number">5</div>
                    <h4>3 Voces</h4>
                </div>
                <ul>
                    <li>CF + 2 voces aÃ±adidas</li>
                    <li>Paralelas ocultas</li>
                    <li>Triadas completas</li>
                    <li>Suspensiones a 3 voces</li>
                </ul>
                <span class="tag v2">v2</span>
            </div>

            <div class="phase">
                <div class="phase-header">
                    <div class="phase-number">6</div>
                    <h4>4 Voces</h4>
                </div>
                <ul>
                    <li>Escritura coral SATB</li>
                    <li>Todas las especies</li>
                    <li>Duplicaciones correctas</li>
                </ul>
                <span class="tag v2">v2</span>
            </div>

            <div class="phase">
                <div class="phase-header">
                    <div class="phase-number">7</div>
                    <h4>Aplicaciones Compositivas</h4>
                </div>
                <ul>
                    <li>Cadencias sin CF dado</li>
                    <li>ModulaciÃ³n a regiones cercanas</li>
                    <li>ImitaciÃ³n y canon</li>
                    <li>Modo "libre" para composiciÃ³n</li>
                </ul>
                <span class="tag v3">v3</span>
            </div>

            <div class="phase">
                <div class="phase-header">
                    <div class="phase-number">8</div>
                    <h4>Export y MIDI</h4>
                </div>
                <ul>
                    <li>Export MIDI</li>
                    <li>Export MusicXML</li>
                    <li>MIDI input (tocar en teclado)</li>
                </ul>
                <span class="tag v3">v3</span>
            </div>
        </section>

        <!-- COMPARATIVA -->
        <section>
            <h2>IX. Â¿Por quÃ© Species Trainer?</h2>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Aspecto</th>
                        <th>Enfoque "Harmonize"</th>
                        <th>Species Trainer</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Base teÃ³rica</td>
                        <td>Probabilidades inventadas</td>
                        <td class="checkmark">300 aÃ±os de tradiciÃ³n</td>
                    </tr>
                    <tr>
                        <td>Reglas</td>
                        <td>ImplÃ­citas en corpus</td>
                        <td class="checkmark">ExplÃ­citas y codificadas</td>
                    </tr>
                    <tr>
                        <td>ProgresiÃ³n</td>
                        <td>Ad hoc</td>
                        <td class="checkmark">Estructurada (Fux/Schoenberg)</td>
                    </tr>
                    <tr>
                        <td>Feedback</td>
                        <td>"Suena bien/mal"</td>
                        <td class="checkmark">"Â§42: sÃ©ptima no puede..."</td>
                    </tr>
                    <tr>
                        <td>Dependencias</td>
                        <td>Necesita corpus (Bach, etc.)</td>
                        <td class="checkmark">AutÃ³nomo (reglas = ley)</td>
                    </tr>
                    <tr>
                        <td>Valor educativo</td>
                        <td>Produce output</td>
                        <td class="checkmark">EnseÃ±a composiciÃ³n</td>
                    </tr>
                    <tr>
                        <td>HistÃ³rico</td>
                        <td>Enfoque moderno</td>
                        <td class="checkmark">CÃ³mo aprendiÃ³ Bach</td>
                    </tr>
                </tbody>
            </table>

            <div class="vision-box" style="margin-top: 3rem;">
                <p>"El estudiante que domina las especies puede escribir cualquier cosa."</p>
                <div class="quote-source">â€” Johann Joseph Fux, Gradus ad Parnassum (1725)</div>
            </div>
        </section>

        <!-- RECURSOS -->
        <section>
            <h2>X. Recursos</h2>

            <h3>Fuentes Primarias</h3>
            <ul>
                <li><strong>Schoenberg, Arnold.</strong> <em>Ejercicios Preliminares de Contrapunto</em>. SpanPress, 1963. [TENEMOS EL LIBRO COMPLETO]</li>
                <li><strong>Fux, Johann Joseph.</strong> <em>Gradus ad Parnassum</em>. 1725. [Disponible en IMSLP]</li>
            </ul>

            <h3>Fuentes Secundarias</h3>
            <ul>
                <li>Jeppesen, Knud. <em>Counterpoint</em>. 1939.</li>
                <li>Salzer & Schachter. <em>Counterpoint in Composition</em>. 1969.</li>
            </ul>

            <h3>Implementaciones de Referencia</h3>
            <ul>
                <li>music21 (Python) â€” tiene mÃ³dulo de anÃ¡lisis de contrapunto</li>
                <li>Counterpointer (app iOS) â€” limitada a 2 voces</li>
            </ul>
        </section>
    </main>

    <footer>
        <p><strong>CONTRAPUNCTUS</strong> â€” Species Counterpoint Trainer</p>
        <p style="margin-top: 0.5rem;">Basado en el mÃ©todo Schoenberg/Fux</p>
        <p style="margin-top: 1rem; font-size: 0.85rem;">
            Documento Fundacional v2.0 Â· Diciembre 2025 Â· <a href="#">EigenLab</a>
        </p>
    </footer>
</body>
</html>
